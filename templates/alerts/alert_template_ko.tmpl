{{/* 
=============================================================================
ì•Œë¦¼ í†µì§€ í…œí”Œë¦¿ (í•œêµ­ì–´ ë²„ì „)
=============================================================================
ì´ í…œí”Œë¦¿ì€ AlertManagerì˜ ì•Œë¦¼ í†µì§€ ë©”ì‹œì§€ë¥¼ í¬ë§·í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤
ë‹¤ì–‘í•œ í”Œë«í¼ í˜•ì‹ì„ ì§€ì› (Telegram, Slack, Discord)
ì„ íƒì  ì´ëª¨ì§€, íƒ€ì„ìŠ¤íƒ¬í”„, ë§í¬ ë“±ì˜ ê¸°ëŠ¥ì„ ì§€ì›
=============================================================================
*/}}

{{/* ì œëª© ì„¹ì…˜ - ì•Œë¦¼ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ ì œëª©ì„ í‘œì‹œ */}}
{{- if gt .FiringCount 0 }}
  {{- if .FormatOptions.ShowEmoji.Enabled }}ğŸš¨ {{ end -}}
  {{- format_bold .Platform "ì•Œë¦¼ ë°œìƒ" }}
{{- else if gt .ResolvedCount 0 }}
  {{- if .FormatOptions.ShowEmoji.Enabled }}âœ… {{ end -}}
  {{- format_bold .Platform "ì•Œë¦¼ í•´ê²°ë¨" }}
{{- end }}

{{/* ê¸°ë³¸ ì •ë³´ ì„¹ì…˜ */}}
{{ format_bold .Platform "ìƒíƒœ:" }} {{ format_text .Platform .Status }}
{{ format_italic .Platform "ì•Œë¦¼ëª…:" }} {{ format_text .Platform .AlertName }}
{{ format_italic .Platform "í™˜ê²½:" }} {{ format_text .Platform .Env }}
{{ format_italic .Platform "ì‹¬ê°ë„:" }} {{ format_text .Platform .Severity }}
{{ format_italic .Platform "ë„¤ì„ìŠ¤í˜ì´ìŠ¤:" }} {{ format_text .Platform .Namespace }}
{{/* í†µê³„ ì •ë³´ ì„¹ì…˜ */}}
{{ format_italic .Platform "ì´ ì•Œë¦¼ ìˆ˜:" }} {{ .TotalAlerts }}
{{- if gt .FiringCount 0 }}
{{ format_italic .Platform "ë°œìƒì¤‘:" }} {{ .FiringCount }}
{{- end }}
{{- if gt .ResolvedCount 0 }}
{{ format_italic .Platform "í•´ê²°ë¨:" }} {{ .ResolvedCount }}
{{- end }}

{{/* ë°œìƒì¤‘ì¸ ì•Œë¦¼ ìƒì„¸ ì„¹ì…˜ */}}
{{- if gt .FiringCount 0 }}
{{- if .FormatOptions.ShowEmoji.Enabled }}
{{ format_bold .Platform "ğŸš¨ ë°œìƒì¤‘ì¸ ì•Œë¦¼:" }}
{{- else }}
{{ format_bold .Platform "ë°œìƒì¤‘ì¸ ì•Œë¦¼:" }}
{{- end }}
{{- range $index, $alert := .Alerts }}
  {{- if eq $alert.Status "firing" }}
{{ format_bold $.Platform (printf "ì•Œë¦¼ %d:" (add $index 1)) }}
â€¢ ìš”ì•½: {{ format_text $.Platform (index $alert.Annotations "summary") }}
    {{- if (index $alert.Annotations "description") }}
â€¢ ì„¤ëª…: {{ format_text $.Platform (index $alert.Annotations "description") }}
    {{- end }}
    {{- if (index $alert.Labels "pod") }}
â€¢ Pod: {{ format_code $.Platform (index $alert.Labels "pod") }}
    {{- end }}
    
    {{- if $.FormatOptions.ShowTimestamps.Enabled }}
â€¢ ì‹œì‘ ì‹œê°„: {{ format_time $.Platform $alert.StartsAt }}
â€¢ ì¢…ë£Œ ì‹œê°„: {{ if ne $alert.EndsAt "0001-01-01T00:00:00Z" }}{{ format_time $.Platform $alert.EndsAt }}{{ else }}ì§„í–‰ ì¤‘{{ end }}
    {{- end }}
    
    {{- if and $.FormatOptions.ShowGeneratorURL.Enabled $alert.GeneratorURL }}
â€¢ {{ if $.FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link $.Platform $alert.GeneratorURL "ìì„¸íˆ ë³´ê¸°" }}
    {{- end }}
    
  {{- end }}
{{- end }}
{{- end }}

{{/* í•´ê²°ëœ ì•Œë¦¼ ìƒì„¸ ì„¹ì…˜ */}}
{{- if gt .ResolvedCount 0 }}
{{- if .FormatOptions.ShowEmoji.Enabled }}
{{ format_bold .Platform "âœ… í•´ê²°ëœ ì•Œë¦¼:" }}
{{- else }}
{{ format_bold .Platform "í•´ê²°ëœ ì•Œë¦¼:" }}
{{- end }}
{{- range $index, $alert := .Alerts }}
  {{- if eq $alert.Status "resolved" }}
{{ format_bold $.Platform (printf "ì•Œë¦¼ %d:" (add $index 1)) }}
â€¢ ìš”ì•½: {{ format_text $.Platform (index $alert.Annotations "summary") }}
    {{- if (index $alert.Annotations "description") }}
â€¢ ì„¤ëª…: {{ format_text $.Platform (index $alert.Annotations "description") }}
    {{- end }}
    {{- if (index $alert.Labels "pod") }}
â€¢ Pod: {{ format_code $.Platform (index $alert.Labels "pod") }}
    {{- end }}
    
    {{- if $.FormatOptions.ShowTimestamps.Enabled }}
â€¢ ì‹œì‘ ì‹œê°„: {{ format_time $.Platform $alert.StartsAt }}
â€¢ ì¢…ë£Œ ì‹œê°„: {{ format_time $.Platform $alert.EndsAt }}
    {{- end }}
    
    {{- if and $.FormatOptions.ShowGeneratorURL.Enabled $alert.GeneratorURL }}
â€¢ {{ if $.FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link $.Platform $alert.GeneratorURL "ìì„¸íˆ ë³´ê¸°" }}
    {{- end }}
  {{- end }}
{{- end }}
{{- end }}
{{/* ì™¸ë¶€ ë§í¬ ì„¹ì…˜ */}}
{{- if and .FormatOptions.ShowExternalURL.Enabled .ExternalURL }}
â€¢{{ if .FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link .Platform .ExternalURL "ëª¨ë“  ì•Œë¦¼ ë³´ê¸°" }}
{{- end }}