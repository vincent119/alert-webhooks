{{/* 
=============================================================================
ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (æ—¥æœ¬èªç‰ˆ)
=============================================================================
ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯AlertManagerã®ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™
è¤‡æ•°ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å½¢å¼ã‚’ã‚µãƒãƒ¼ãƒˆ (Telegram, Slack, Discord)
ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®çµµæ–‡å­—ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€ãƒªãƒ³ã‚¯ãªã©ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆ
=============================================================================
*/}}

{{/* ã‚¿ã‚¤ãƒˆãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ - ã‚¢ãƒ©ãƒ¼ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«åŸºã¥ã„ã¦ç•°ãªã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¡¨ç¤º */}}
{{- if gt .FiringCount 0 }}
  {{- if .FormatOptions.ShowEmoji.Enabled }}ğŸš¨ {{ end -}}
  {{- format_bold .Platform "ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥" }}
{{- else if gt .ResolvedCount 0 }}
  {{- if .FormatOptions.ShowEmoji.Enabled }}âœ… {{ end -}}
  {{- format_bold .Platform "ã‚¢ãƒ©ãƒ¼ãƒˆè§£æ±ºæ¸ˆã¿" }}
{{- end }}

{{/* åŸºæœ¬æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}}
{{ format_bold .Platform "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:" }} {{ format_text .Platform .Status }}
{{ format_italic .Platform "ã‚¢ãƒ©ãƒ¼ãƒˆå:" }} {{ format_text .Platform .AlertName }}
{{ format_italic .Platform "ç’°å¢ƒ:" }} {{ format_text .Platform .Env }}
{{ format_italic .Platform "é‡å¤§åº¦:" }} {{ format_text .Platform .Severity }}
{{ format_italic .Platform "ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹:" }} {{ format_text .Platform .Namespace }}
{{/* çµ±è¨ˆæƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}}
{{ format_italic .Platform "ã‚¢ãƒ©ãƒ¼ãƒˆç·æ•°:" }} {{ .TotalAlerts }}
{{- if gt .FiringCount 0 }}
{{ format_italic .Platform "ç™ºç”Ÿä¸­:" }} {{ .FiringCount }}
{{- end }}
{{- if gt .ResolvedCount 0 }}
{{ format_italic .Platform "è§£æ±ºæ¸ˆã¿:" }} {{ .ResolvedCount }}
{{- end }}

{{/* ç™ºç”Ÿä¸­ã®ã‚¢ãƒ©ãƒ¼ãƒˆè©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}}
{{- if gt .FiringCount 0 }}
{{- if .FormatOptions.ShowEmoji.Enabled }}
{{ format_bold .Platform "ğŸš¨ ç™ºç”Ÿä¸­ã®ã‚¢ãƒ©ãƒ¼ãƒˆ:" }}
{{- else }}
{{ format_bold .Platform "ç™ºç”Ÿä¸­ã®ã‚¢ãƒ©ãƒ¼ãƒˆ:" }}
{{- end }}
{{- range $index, $alert := .Alerts }}
  {{- if eq $alert.Status "firing" }}
{{ format_bold $.Platform (printf "ã‚¢ãƒ©ãƒ¼ãƒˆ %d:" (add $index 1)) }}
â€¢ ã‚µãƒãƒªãƒ¼: {{ format_text $.Platform (index $alert.Annotations "summary") }}
    {{- if (index $alert.Annotations "description") }}
â€¢ èª¬æ˜: {{ format_text $.Platform (index $alert.Annotations "description") }}
    {{- end }}
    {{- if (index $alert.Labels "pod") }}
â€¢ Pod: {{ format_code $.Platform (index $alert.Labels "pod") }}
    {{- end }}
    
    {{- if $.FormatOptions.ShowTimestamps.Enabled }}
â€¢ é–‹å§‹æ™‚åˆ»: {{ format_time $.Platform $alert.StartsAt }}
â€¢ çµ‚äº†æ™‚åˆ»: {{ if ne $alert.EndsAt "0001-01-01T00:00:00Z" }}{{ format_time $.Platform $alert.EndsAt }}{{ else }}é€²è¡Œä¸­{{ end }}
    {{- end }}
    
    {{- if and $.FormatOptions.ShowGeneratorURL.Enabled $alert.GeneratorURL }}
â€¢ {{ if $.FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link $.Platform $alert.GeneratorURL "è©³ç´°ã‚’è¦‹ã‚‹" }}
    {{- end }}
    
  {{- end }}
{{- end }}
{{- end }}

{{/* è§£æ±ºæ¸ˆã¿ã®ã‚¢ãƒ©ãƒ¼ãƒˆè©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}}
{{- if gt .ResolvedCount 0 }}
{{- if .FormatOptions.ShowEmoji.Enabled }}
{{ format_bold .Platform "âœ… è§£æ±ºæ¸ˆã¿ã®ã‚¢ãƒ©ãƒ¼ãƒˆ:" }}
{{- else }}
{{ format_bold .Platform "è§£æ±ºæ¸ˆã¿ã®ã‚¢ãƒ©ãƒ¼ãƒˆ:" }}
{{- end }}
{{- range $index, $alert := .Alerts }}
  {{- if eq $alert.Status "resolved" }}
{{ format_bold $.Platform (printf "ã‚¢ãƒ©ãƒ¼ãƒˆ %d:" (add $index 1)) }}
â€¢ ã‚µãƒãƒªãƒ¼: {{ format_text $.Platform (index $alert.Annotations "summary") }}
    {{- if (index $alert.Annotations "description") }}
â€¢ èª¬æ˜: {{ format_text $.Platform (index $alert.Annotations "description") }}
    {{- end }}
    {{- if (index $alert.Labels "pod") }}
â€¢ Pod: {{ format_code $.Platform (index $alert.Labels "pod") }}
    {{- end }}
    
    {{- if $.FormatOptions.ShowTimestamps.Enabled }}
â€¢ é–‹å§‹æ™‚åˆ»: {{ format_time $.Platform $alert.StartsAt }}
â€¢ çµ‚äº†æ™‚åˆ»: {{ format_time $.Platform $alert.EndsAt }}
    {{- end }}
    
    {{- if and $.FormatOptions.ShowGeneratorURL.Enabled $alert.GeneratorURL }}
â€¢ {{ if $.FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link $.Platform $alert.GeneratorURL "è©³ç´°ã‚’è¦‹ã‚‹" }}
    {{- end }}
  {{- end }}
{{- end }}
{{- end }}
{{/* å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}}
{{- if and .FormatOptions.ShowExternalURL.Enabled .ExternalURL }}
â€¢{{ if .FormatOptions.ShowEmoji.Enabled }}ğŸ”— {{ end }}{{ format_link .Platform .ExternalURL "ã™ã¹ã¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆè©³ç´°ã‚’è¦‹ã‚‹" }}
{{- end }}